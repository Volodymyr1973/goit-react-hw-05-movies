"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[614],{603:function(e,n,t){t.d(n,{BG:function(){return c},bT:function(){return r},kD:function(){return o}});var r="0402ef8c6d0b2370fa6ac2b572dad398",c="https://api.themoviedb.org/3/",o="https://image.tmdb.org/t/p/w500/"},79:function(e,n,t){t.d(n,{XR:function(){return c},fO:function(){return a},jF:function(){return o},x6:function(){return u}});var r=t(603),c=function(e,n,t){fetch("".concat(r.BG,"movie/").concat(n,"/").concat(e,"?api_key=").concat(r.bT,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Insert other name"))})).then((function(e){return t(e)})).catch((function(e){return console.log(e)}))},o=function(e){fetch("".concat(r.BG,"trending/movie/week?api_key=").concat(r.bT,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Insert other name"))})).then((function(n){var t=n.results;return e(t)})).catch((function(e){return console.log(e)}))},u=function(e,n){fetch("".concat(r.BG,"movie/").concat(e,"?api_key=").concat(r.bT,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Insert other name"))})).then((function(e){return n(e)})).catch((function(e){return console.log(e)}))},a=function(e,n,t){fetch("".concat(r.BG,"search/movie?api_key=").concat(r.bT,"&").concat(e).concat(n,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Insert other name"))})).then((function(e){var n=e.results;return t(n)})).catch((function(e){return console.log(e)}))}},614:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});var r=t(439),c=t(791),o=t(87),u=t(79),a=t(184),i=function(e){var n=(0,c.useState)([]),t=(0,r.Z)(n,2),i=t[0],s=t[1],f=e.searchName;return(0,c.useEffect)((function(){""!==e.searchName&&(0,u.fO)("query=",f,s)}),[e.searchName]),(0,a.jsx)("div",{children:(0,a.jsx)("ul",{children:i.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)(o.rU,{to:"/movies/".concat(e.id),state:{from:"/movies"},children:e.title})},e.id)}))})})},s=function(){var e=(0,o.lr)(),n=(0,r.Z)(e,2),t=n[0],u=n[1],s=t.get("search")||"",f=(0,c.useState)(s),h=(0,r.Z)(f,2),l=h[0],m=h[1],d=(0,c.useState)(""),v=(0,r.Z)(d,2),g=v[0],p=v[1];(0,c.useEffect)((function(){p(s),m("")}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(l),e.currentTarget[0].value="",u({search:l})},children:[(0,a.jsx)("input",{id:"movie_input",name:"search",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",value:l,onChange:function(e){var n=e.currentTarget.value;""!==n.trim()?m(n):e.currentTarget.value=""}}),(0,a.jsx)("button",{type:"submit",children:(0,a.jsx)("span",{children:"Search"})})]})}),(0,a.jsx)(i,{searchName:g})]})}}}]);
//# sourceMappingURL=614.e580cdff.chunk.js.map