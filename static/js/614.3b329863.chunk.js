"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[614],{614:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var n=r(439),a=r(791),c=r(87),o=r(184),s=function(e){var t=(0,a.useState)([]),r=(0,n.Z)(t,2),s=r[0],u=r[1],i=e.searchName;return(0,a.useEffect)((function(){""!==e.searchName&&fetch("".concat("https://api.themoviedb.org/3/","search/movie?api_key=").concat("0402ef8c6d0b2370fa6ac2b572dad398","&").concat("query=").concat(i,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Insert other name"))})).then((function(e){var t=e.results;return u(t)})).catch((function(e){return console.log(e)}))}),[e.searchName]),(0,o.jsx)("div",{children:(0,o.jsx)("ul",{children:s.map((function(e){return(0,o.jsx)("li",{children:(0,o.jsx)(c.rU,{to:"/movies/".concat(e.id),state:{from:"/movies"},children:e.title})},e.id)}))})})},u=function(){var e=(0,c.lr)(),t=(0,n.Z)(e,2),r=t[0],u=t[1],i=r.get("search")||"",h=(0,a.useState)(i),l=(0,n.Z)(h,2),f=l[0],m=l[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==f.trim()?(m(f),u({search:f}),e.currentTarget.elements.search.value=""):e.currentTarget.value=""},children:[(0,o.jsx)("input",{name:"search",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",value:f,onChange:function(e){var t=e.currentTarget.value;m(t)}}),(0,o.jsx)("button",{type:"submit",children:(0,o.jsx)("span",{children:"Search"})})]})}),(0,o.jsx)(s,{searchName:f})]})}}}]);
//# sourceMappingURL=614.3b329863.chunk.js.map